@model PoolViewModel

@{
	ViewData["Title"] = "Pool";
}

@{
	var nav = new NavigationViewModel { Title = ViewData["Title"].ToString() };
}

<partial name="_NavigationBg" model="@nav" />

<div class="section" id="carousel">
	<div class="container">
		<div class="row">
			<div class="mr-auto w-100">
				@if (!Model.Questions.Any())
				{
					<div class="text-center badge-info p-lg-3">
						<h1>No questions for now...</h1>
						<h3>Please come back when new questions arrive!</h3>
					</div>

					if (Model.IsOwner)
					{
						<div>
							<a class="btn btn-outline" asp-controller="Questions" asp-action="Add" asp-route-id="@Model.GroupId">Add new question to the group</a>
						</div>
					}
				}
				else
				{

					<!-- Carousel Card -->
					<div class="card card-raised card-carousel">
						<div id="carouselExampleIndicators" class="carousel slide" data-interval="false">
							<ol class="carousel-indicators">
								<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="1" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="3" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="4" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="5" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="6" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="7" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="8" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="9" class=""></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="10" class=""></li>
							</ol>
							<div class="carousel-inner">
								<div class="carousel-item active">
									<img class="d-block w-100" src="@(Model.Group.ImageUrl)" alt="First slide">
									<div class="carousel-caption d-none d-lg-inline-block col-auto">
										<h4 class="text-capitalize text-xl-center font-weight-bold text-white bg-primary p-lg-3" readonly="readonly">
											<i class="material-icons">quiz</i>
											@Model.Questions.ToList()[0].Value
										</h4>

										@foreach (var answer in Model.Questions.ToList()[0].Answers)
										{
											<a class="btn btn-block text-white text-xl-center"
											   role="button"
											   data-slide="next"
											   href="#carouselExampleIndicators">
												<b class="text-xl-center">@answer.Value</b>
											</a>
										}
									</div>
								</div>

								@foreach (var question in Model.Questions.Skip(1))
								{
									<div class="carousel-item">
										<img class="d-block w-100" src="@(Model.Group.ImageUrl)" alt="First slide">
										<div class="carousel-caption d-none d-lg-inline-block col-auto">
											<h4 class="text-capitalize font-weight-bold text-white bg-primary p-lg-3" readonly="readonly">
												<i class="material-icons">quiz</i>
												@question.Value
											</h4>
											@foreach (var answer in question.Answers)
											{
												<a class="btn btn-block text-white"
												   role="button"
												   data-slide="next"
												   href="#carouselExampleIndicators">
													<b class="text-xl-center">@answer.Value</b>
												</a>
											}
										</div>
									</div>
								}
								@*
									<div class="carousel-item active">
										<img class="d-block w-100" src="/assets/img/bg.jpg" alt="First slide">
										<div class="carousel-caption d-none d-md-block">
											<h4>
												<i class="material-icons">location_on</i>
												Yellowstone National Park, United States
											</h4>
										</div>
									</div>
								*@
								@*<div class="carousel-item">
										<img class="d-block w-100" src="/assets/img/bg3.jpg" alt="Second slide">
										<div class="carousel-caption d-none d-md-block">
											<h4>
												<i class="material-icons">location_on</i>
												Somewhere Beyond, United States
											</h4>
										</div>
									</div>*@
							</div>
							<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
								<i class="material-icons">keyboard_arrow_left</i>
								<span class="sr-only">Previous</span>
							</a>
							<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
								<i class="material-icons">keyboard_arrow_right</i>
								<span class="sr-only">Next</span>
							</a>
						</div>
					</div>
				}

				<div>
					<a class="btn btn-default mt-lg-5" asp-controller="Groups" asp-action="Details" asp-route-id="@Model.GroupId">Back to the Group</a>
				</div>
				<!-- End Carousel Card -->
			</div>
		</div>
	</div>
</div>